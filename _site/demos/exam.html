<!DOCTYPE HTML>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>
        
            
        
    </title>
    <link rel="stylesheet" type="text/less" href="/stylesheets/style.less">
    <script type="text/javascript" src="/javascripts/less-1.3.0.min.js"></script>
    <!-- 代码着色 -->
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
</head>
<body>
    <div class="wrapper">
        <section class="container">
            <div class="post-wrapper">
                <div class="post box">
                    <div class="box-body">
                        <h1>BaoBao Duai's EXAM</h1>

<p><a href="/">返回首页</a> ｜｜
<a href="#exam1">第一题</a> ｜
<a href="#exam2">第二题</a> ｜
<a href="#exam3">第三题</a> ｜
<a href="#exam4">第四题</a> ｜
<a href="#exam5">第五题</a> ｜
<a href="#exam6">第六题</a> ｜
<a href="#exam7">第七题</a> ｜
<a href="#exam8">第八题</a> ｜
<a href="#exam9">第九题</a> ｜｜新增：
<a href="#exam10">第十题</a>｜
<a href="#exam11">第十一题</a>｜</p>

<hr />

<ol>
<li><p><span id="exam1"></span>实现<code>walkTheDom</code>函数，接受两个参数，一个是根节点，另一个是回调函数。结构如下：</p>

<pre><code>function walkTheDom(root, callback) {
    // todo
};
</code></pre>

<p>callback接受一个参数，就是当前遍历到的节点。walkTheDom的功能是，遍历所给根结点及其所有子树节点，对每个遍历到的节点都执行callback回调函数。使用示例：</p>

<pre><code>walkTheDom(document.getElementById('wrapper'), function (element) {
    element.style.backgroundColor = 'green';
});
</code></pre>

<p>该示例使用walkTheDom方法遍历id为wrapper的节点和它的所有子节点，将所有节点的背景色变成绿色。</p>

<p>知识点总结：</p>

<ul>
<li>children v.s. childNodes</li>
<li>firstChild, nextSibling, previousSibling</li>
<li>函数作为参数</li>
<li>怎么判断</li>
</ul>


<p>答案：</p>

<pre><code>function walkTheDom(root, callback) {
    var children = root.children;
    var length = children.length;

    callback(root);

    if (length === 0) {
        return;
    } else {
        for (var i = 0; i &lt; length; i++) {
            walkTheDom(children[i], callback);
        }
    }
}
</code></pre></li>
<li><p><span id="exam2"></span>解密：</p>

<p><code>var code = "l,m,t,h,.,f,d,s,a,j,k,l,f,d,a,8,9,3,2,1,l,k,k,j,s,a,/,t,e,n,.,o,u,l,e,t,i,a,n,/,/,:,p,t,t,h"</code></p>

<p>code是一个经过加密的秘密网址，用JavaScript进行解密吧！</p>

<p>提示：用到String和Array的操作</p>

<p>答案：</p>

<pre><code>code.split(',').reverse().join('');
</code></pre></li>
<li><p><span id="exam3"></span>实现<code>getSecondToZero</code>函数，返回距离当天凌晨的毫秒数：</p>

<pre><code>function getSecondToZero() {
    // todo
}
</code></pre>

<p>提示: <code>+new Date</code>可以很简单地获取到此刻的毫秒数。</p></li>
<li><p><span id="exam4"></span>以下是对Element对象的扩展，理解代码并在问号处添加注释：</p>

<pre><code>/**
 *  淡出淡入
 */

(function (d) {

    // ?? 
    if (d.hide || d.show) {
        throw new Error('methods already exist');
    }

    Element.prototype.hide = function (time) {
        var element = this,
            speed = (time) ? ((time &lt; 100) ? 5 : (time / 100)) : 5,
            // ??
            opacity = (+element.style.opacity) || 1;

        // ??
        if (element.animateTimer) {
            clearTimeout(element.animateTimer);
        }

        // 递归函数
        function step() {
            if (opacity &lt;= 0) {
                opacity = 0;
                element.style.opacity = opacity;
                element.style.display = 'none';
                return;
            } else {
                opacity = opacity - 0.01;
                element.style.opacity = opacity;
                element.animateTimer = setTimeout(step, speed);
            }   
        }

        // 开始执行
        step();

        // 链式调用
        return this;
    };

    Element.prototype.show = function (time) {
        var element = this,
            speed = (time) ? ((time &lt; 100) ? 5 : (time / 100)) : 5,
            opacity = (+element.style.opacity) || 0;

        element.style.display = 'block';

        // 清除正在进行的动画
        if (element.animateTimer) {
            clearTimeout(element.animateTimer);
        }

        function step() {
            if (opacity &gt;= 1) {
                opacity = 1;
                element.style.opacity = opacity;
                return;
            } else {
                opacity = opacity + 0.01;
                element.style.opacity = opacity;
                element.animateTimer = setTimeout(step, speed);
            }       
        }

        step();

        return this;
    };

}(document));
</code></pre>

<p>注释版：</p>

<pre><code>/**
 *  淡出淡入
 *  使用方法：
 *  document.getElementsByTagName(body)[0].hide(200);
 *  document.getElementsByTagName(body)[0].show(500);
 */

(function (d) {

    // 避免命名冲突
    if (d.hide || d.show || d.stop) {
        throw new Error('methods already exist');
    }

    // 添加方法到Element的原型
    Element.prototype.hide = function (time) {
        // 初始化
        var element = this,
            // 控制淡入淡出速度
            speed = (time) ? ((time &lt; 100) ? 5 : (time / 100)) : 5,
            // style的成员默认类型为String
            opacity = (+element.style.opacity) || 1;

        // 清除正在进行的动画
        element.stop();

        // 递归函数
        function step() {
            if (opacity &lt;= 0) {
                opacity = 0;
                element.style.opacity = opacity;
                element.style.display = 'none';
                console.log('Fade out finished!');
                return;
            } else {
                opacity = opacity - 0.01;
                element.style.opacity = opacity;
                element.animateTimer = setTimeout(step, speed);
            }   
        }

        // 开始执行
        step();

        // 允许链式调用
        return this;
    };

    Element.prototype.show = function (time) {
        var element = this,
            speed = (time) ? ((time &lt; 100) ? 5 : (time / 100)) : 5,
            opacity = (+element.style.opacity) || 0;

        element.style.display = 'block';

        // 清除正在进行的动画
        element.stop();

        function step() {
            if (opacity &gt;= 1) {
                opacity = 1;
                element.style.opacity = opacity;
                console.log('Fade in finished!');
                return;
            } else {
                opacity = opacity + 0.01;
                element.style.opacity = opacity;
                element.animateTimer = setTimeout(step, speed);
            }       
        }

        step();

        return this;
    };

    // 中止淡入淡出
    Element.prototype.stop = function () {
        var element = this;
        if (element.animateTimer) {
            clearTimeout(element.animateTimer);
            console.log('Fade in or out terminated!');
        }
        return this;
    }

}(document));
</code></pre></li>
<li><p><span id="exam5"></span>参照题目4中的<code>hide</code>和<code>show</code>，在上面的必包函数中新增一个<code>animate</code>方法，对调用对象进行变形。</p>

<pre><code>Element.prototype.animate = function (width, height, time) {
    // todo: blablabla

    return this;
}
</code></pre></li>
<li><p><span id="exam6"></span>JavaScript中将对象值赋给一个变量并不会复制这个对象，而是让变量指向同一个对象。写一个<code>copy</code>方法，完成对象的拷贝：</p>

<pre><code>function copy(obj) {
    // todo
    return newObj;
}

// 使用方法：
var a = {name: 'aaa', age: 13};
var b = copy(a);
</code></pre></li>
<li><p><span id="exam7"></span>列出所有假值。</p></li>
<li><span id="exam8"></span>简述<code>null</code>与<code>undefined</code>的区别。</li>
<li><p><span id="exam9"></span>部分浏览器是不支持<code>getElementsByClassName</code>方法的，扩展Element，新增一个<code>myGetElementsByClassName</code>方法，以供跨浏览器使用</p>

<pre><code>Element.prototype.myGetElementsByClassName = function (className) {
    var result = [];
    // todo
    return result;
}
</code></pre>

<p>方法的使用方法和原生方法一样，如<code>document.getElementById('wrapper').myGetElementsByClassName('box');</code>将返回wrapper元素内的所有类名为box的节点。</p></li>
<li><p><span id="exam10"></span>实现<code>getRandomBetween</code>方法，方法有三个参数，返回大小在参数1，参数2之间的随机数，第三个参数为可选波尔值参数，当为true的时候，返回值不需要取整，当没有该参数或赋值false时，返回值要取整。</p>

<pre><code>function getRandomBetween(from, to, flag) {
    // todo
    return num;
}
</code></pre></li>
<li><p><span id="exam11"></span>下载附件中的.html文件，按要求完成页面功能。 <a href="/demos/attachment/ex11.html">右键另存为</a></p></li>
</ol>


<hr />

<blockquote><p><strong> 加油！加油！！加油！！！ </strong></p></blockquote>

                        <hr>
                        <p>尊重作者，所有原创文章，请注明出处。本站转载的文章请注明原文出处，谢谢！</p>
                    </div>
                </div>  
            </div>
        </section>
        <footer>
            <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/naiteluo">naiteluo</a></small></p>
        </footer>
    </div>
</body>
</html>