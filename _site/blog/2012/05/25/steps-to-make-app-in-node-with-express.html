<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="chrome=1">
	<title>
		
			Steps to make app in node with express
		
	</title>
	<link rel="stylesheet" type="text/less" href="/stylesheets/style.less">
	<script type="text/javascript" src="/javascripts/less-1.3.0.min.js"></script>
	<!-- 代码着色 -->
	<link rel="stylesheet" href="/stylesheets/pygment_trac.css">
</head>
<body>
	<div class="wrapper">
		<header>
			<div class="inner">
				<ul class="nav">
					<li class="logo">
						<a href="http://naiteluo.net">MMNN</a>
					</li>
					<li class="aboutme">
						<a href="#">ABOUT ME</a>
					</li>
					<li class="exam">
						<a href="/demos/exam.html">EXAM</a>
						<span class="tip">
							new!!
						</span>
					</li>
				</ul>
				<div class="view">
					<a href="https://github.com/naiteluo"><small>NAITELUO</small> IN Github.</a>
				</div>
			</div>
		</header>
		<section class="container">
			<div class="post-wrapper">
    <div class="post box">
        <div class="box-header">
            <h1>Steps to make app in node with express</h1>
        </div>
        <div class="box-body">
            <h2>Preparation</h2>

<p>安装配置好node.js和npm。</p>

<h2>Steps</h2>

<ol>
<li><p>创建App文件夹，进入文件夹</p>

<pre><code>mkdir guess
cd guess
</code></pre></li>
<li><p>用npm下载express</p>

<pre><code>npm install express
</code></pre></li>
<li><p>用Express初始化App，可能会警告文件夹非空，选择y继续</p>

<pre><code>./node_module/express/bin/express .
</code></pre></li>
<li><p>文件目录如下：</p>

<pre><code>.
├── app.js                # 应用的入口，主文件
├── node_modules      # node 模块
│   └── express           
├── package.json      # 配置文件
├── public                # 公共文件，静态文件
│   ├── images                # 图片
│   ├── javascripts           # 前端js
│   └── stylesheets           # 样式表
├── routes                # 路由文件
│   └── index.js
└── views             # 模版
    ├── index.jade
    └── layout.jade
</code></pre></li>
<li><p>打开package.json文件，这个文件是npm用来获取app的信息和相关依赖module信息的，修改如下：</p></li>
</ol>


<div class="highlight"><pre><code class="javascript"><span class="lineno"> 1</span>         <span class="p">{</span>
<span class="lineno"> 2</span>          <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;guess&quot;</span>
<span class="lineno"> 3</span>        <span class="p">,</span> <span class="s2">&quot;version&quot;</span><span class="o">:</span> <span class="s2">&quot;0.0.1&quot;</span>
<span class="lineno"> 4</span>        <span class="p">,</span> <span class="s2">&quot;private&quot;</span><span class="o">:</span> <span class="kc">true</span>
<span class="lineno"> 5</span>        <span class="p">,</span> <span class="s2">&quot;dependencies&quot;</span><span class="o">:</span> <span class="p">{</span>
<span class="lineno"> 6</span>            <span class="s2">&quot;express&quot;</span><span class="o">:</span> <span class="s2">&quot;2.5.8&quot;</span>
<span class="lineno"> 7</span>          <span class="p">,</span> <span class="s2">&quot;jade&quot;</span><span class="o">:</span> <span class="s2">&quot;&gt;= 0.0.1&quot;</span>
<span class="lineno"> 8</span>          <span class="p">,</span> <span class="s2">&quot;socket.io&quot;</span> <span class="o">:</span> <span class="s2">&quot;&gt;= 0.0.1&quot;</span>
<span class="lineno"> 9</span>        <span class="p">}</span>
<span class="lineno">10</span>      <span class="p">}</span>
<span class="lineno">11</span>      
</code></pre>
</div>


<pre><code>我们添加了socket.io module，保存。再用npm来安装所有依赖的modules。

    npm install
</code></pre>

<ol>
<li>基本的配置已经完成了，接下来我们编辑./views/index.js</li>
</ol>


<div class="highlight"><pre><code class="javascript"><span class="lineno">1</span>      <span class="cm">/*</span>
<span class="lineno">2</span> <span class="cm">      * GET home page.</span>
<span class="lineno">3</span> <span class="cm">      */</span>
<span class="lineno">4</span>       
<span class="lineno">5</span>       <span class="nx">exports</span><span class="p">.</span><span class="nx">index</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">){</span>
<span class="lineno">6</span>         <span class="nx">res</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Guess&#39;</span> <span class="p">})</span>
<span class="lineno">7</span>       <span class="p">};</span>
<span class="lineno">8</span>       
</code></pre>
</div>


<pre><code>将title修改成我们应用的名字：Guess。
</code></pre>

<ol>
<li><p>接下来就可以运行程序了</p>

<pre><code>node app.js
Express server listening on port 3000 in development mode
</code></pre>

<p>在浏览器中访问：<a href="http://localhost:3000/">http://localhost:3000/</a> ，效果如下:</p>

<blockquote><p><h1>Guess</h1>
<p>Welcome to Guess</p></p></blockquote></li>
</ol>


            <hr>
            <p>尊重作者，所有原创文章，请注明出处。本站转载的文章请注明原文出处，谢谢！</p>
            <em>Posted on 25 May 2012.</em> 
        </div>
        <div class="box-footer">
            <div id="disqus_thread"></div>
            <script src="http://disqus.com/forums/mmnn/embed.js"></script>
        </div>
    </div>  
</div>
		</section>
		<footer>
			<p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/naiteluo">naiteluo</a></small></p>
		</footer>
	</div>
</body>
</html>